script: collate_weekly_outputs.R
artefacts:
  data:
    description: Collated model outputs for all locations
    filenames:
    - us-ensemble-rt.rds
    - us-ensemble-forecasts.rds
    - rti0-rt.rds
    - rti0-forecasts.rds
    - apestim-rt.rds
    - apeestim-forecasts.rds
    - deca-rt.rds
    - deca-forecasts.rds
packages:
- dplyr
- tidyr
- ggdist
- purrr
- ggplot2
depends:
- run_jointlyr:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "a")
    use:
      rti0_model_outputs_a.rds: rti0_model_outputs.rds
- run_jointlyr:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "b")
    use:
      rti0_model_outputs_b.rds: rti0_model_outputs.rds
- run_jointlyr:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "c")
    use:
      rti0_model_outputs_c.rds: rti0_model_outputs.rds
- run_deca:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "a")
    use:
      DeCa_latest_a.rds: DeCa_latest.rds
- run_deca:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "b")
    use:
      DeCa_latest_b.rds: DeCa_latest.rds
- run_deca:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "c")
    use:
      DeCa_latest_c.rds: DeCa_latest.rds
- run_apeestim:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "a")
    use:
      apeestim_model_outputs_a.rds: apeestim_model_outputs.rds
- run_apeestim:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "b")
    use:
      apeestim_model_outputs_b.rds: apeestim_model_outputs.rds
- run_apeestim:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "c")
    use:
      apeestim_model_outputs_c.rds: apeestim_model_outputs.rds
- produce_ensemble_outputs:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "a")
    use:
      ensemble_model_rt_samples_a.rds: ensemble_model_rt_samples.rds
      ensemble_model_predictions_a.rds: ensemble_model_predictions.rds
- produce_ensemble_outputs:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "b")
    use:
      ensemble_model_rt_samples_b.rds: ensemble_model_rt_samples.rds
      ensemble_model_predictions_b.rds: ensemble_model_predictions.rds
- produce_ensemble_outputs:
    id: latest(parameter:week_ending == "2021-03-28"  && parameter:location == "c")
    use:
      ensemble_model_rt_samples_c.rds: ensemble_model_rt_samples.rds
      ensemble_model_predictions_c.rds: ensemble_model_predictions.rds
