script: perf_metrics_vis.R

artefacts:
  data:
    description: Model performance metrics
    filenames:
      - main_proportion_in_50_CrI.tiff
      - si_proportion_in_50_CrI.tiff
      - main_proportion_in_95_CrI.tiff
      - si_proportion_in_95_CrI.tiff
      - obs_predicted_2d_density.tiff
      - main_relative_error_heatmap.tiff
      - si_relative_error_heatmap.tiff
      - rmae_vs_weekly_incid_all_countries.png
      - rmae_vs_weekly_cv_all_countries.png
      - relative_error_by_country.png
      - relative_error_by_.png
  
packages:
  - dplyr
  - tidyr
  - ggplot2
  - ggpubr
  - ggforce
  - snakecase
  - glue
  - patchwork
  - ggnewscale
  - purrr

## use_si should be one of si_1 or si_2
parameters:
  - use_si

sources:
  - R/utils.R

resources:
  - country_continent.csv

depends:        
  - collate_weighted_performance_metrics:
      id: latest
      use:
        unwtd_pred_error.csv: unwtd_pred_error.csv

  - produce_baseline_error:
      id: latest
      use:
        null_model_error.rds: null_model_error.rds
        weekly_incidence.rds: weekly_incidence.rds

  - collate_model_outputs:
      id: latest
      use:
        unweighted_rt_qntls.rds: unweighted_rt_qntls.rds

  - compare_with_null_model:
      id: latest
      use:
        better_than_null.rds: better_than_null.rds

  - collate_longer_forecasts_metrics:
      id: latest
      use:
        long_projections_error_weekly.rds: long_projections_error_weekly.rds
