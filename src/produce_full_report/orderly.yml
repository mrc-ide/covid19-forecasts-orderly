script: script.R

artefacts:
  - report:
      description: Full Report
      filenames: produce_full_report.html

packages:
  - knitr
  - DT
  - dplyr

resources:
  - produce_full_report.Rmd
  - bibliography.bib
  - annual-review-of-statistics-and-its-application.csl
  - case_ascertainment_methods.Rmd
  - figs/
  - other_files/

parameters:
  - week_ending

depends:
  format_model_outputs:
    id: latest(parameter:week_ending == week_ending)
    use:
      model_1_formatted_output.rds: model_1_formatted_output.rds
      model_2_formatted_output.rds: model_2_formatted_output.rds
      model_3_formatted_output.rds: model_3_formatted_output.rds
      fmtd_ensemble_weekly_qntls.rds: fmtd_ensemble_weekly_qntls.rds
  produce_retrospective_vis:
    id: latest(parameter:week_ending == week_ending)
    use:
      figs/epicurve_pline.png: epicurve_pline.png
  produce_maps:
    id: latest(parameter:week_ending == week_ending)
    use:
      figs/rt_phase_si_2.png: rt_phase_si_2.png
  DeCa_model:
    id: latest(parameter:week_ending == week_ending)
    use:
      summary_DeathToRepoted_14days.csv: summary_DeathToRepoted_14days.csv
  prepare_ecdc_data:
    id: latest
    use:
      exclude.rds: exclude.rds         