script: script.R
## latest_week is the latest week for which we have observations
## you can assess performance up to the week before the latest week
parameters:
  - week_starting
  - latest_week
artefacts:
  data:
    description: Null Model performance metrics
    filenames:
      - null_model_error.rds
      - linear_model_error.rds      
      - exclude.rds
packages:
- assessr
- dplyr
- ggplot2
- glue
- purrr
- rstanarm
- slider
- tidyr

depends:
- prepare_ecdc_data:
    id: latest(parameter:week_ending == latest_week)
    use:
      model_input.rds: latest_deaths_wide_no_filter.rds
- produce_weekly_incidence:
    id: latest(parameter:latest_week == latest_week && parameter:week_starting == week_starting)
    use:
      weekly_incidence.rds: weekly_incidence.rds
      countries_included.rds: countries_included.rds
      weeks_included.rds: weeks_included.rds
